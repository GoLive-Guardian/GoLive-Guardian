# GoLive Guardian
GoLive Guardian(GG) 은 Asphalt Legends Unite(ALU) 디스코드 서버를 위해 제작되었지만 이에 한정되지 않습니다.
GG는 여러분의 디스코드 서버의 보이스 채널의 Go Live 방송을 관리할 수 있도록 보조합니다.

`/setup` 명령어로 설정할 때, 기본적으로, 각 채널의 방송은 1개로 제한되어 있습니다. (향후 기능으로 변경될 수 있습니다)

## 1. 작동 방식
예비 스트리머(음성 채널에서 방송하고자 하는 자)는 아래와 같은 상황에 마주하게 될 것입니다.

### (1) 방송하는 채널의 Go Live 제한을 초과하지 않는 경우
* 봇은 아무 행동도 하지 않으며, 예비 스트리머는 그대로 방송을 할 수 있습니다.

### (2) 방송하는 채널의 Go Live 제한을 초과하는 경우
* 봇이 실행 중일 때
  * 봇이 예비 스트리머를 해당 채널에서 퇴장 시킵니다. (반드시 멤버 이동 권한을 소유해야 합니다)
    * 봇이 해당 작업을 실패할 경우, Mod 멘션(ALU 서버 전용)이 담긴 메세지를 해당 채널에 전송합니다.
  * 봇에 의해 퇴장된 예비 스트리머의 채널에 스트림 정보가 담긴 경고 메세지가 전송됩니다.
    * 이 메세지는 해당 예비 스트리머 혹은 메세지 관리 권한 보유자에 의해서만 삭제될 수 있습니다.

* 봇이 작동되기 전에 발생했을 경우
  * 작동 후, 봇은 스트림 제한을 초과한 모든 채널(컨플릭 채널)을 감지합니다.
  * 그러고 나서 봇은 모든 컨플릭 채널에 있는 스트리머들에게 갈등을 3분 안에 해결하라는 요청의 메세지를 보냅니다.
    * 만약, 제한 시간 안에 해결되지 않는다면, 해당 채널 내 모든 스트리머들은 그 채널에서 강제 퇴장 처리됩니다.
    * 스트림 제한이 정상으로 돌아오게 되면, 봇은 갈등이 해결된 것으로 간주합니다.
  
## 2. 명령어
모든 명령어는 "채널 관리하기" 권한 보유자에 의해서 실행되는 슬래시 커맨드입니다.

### - setup
먼저, `/setup` 명령어를 실행하여 봇이 지켜보기를 원하는 채널을 정하십시오. 
그러면, 메뉴와 버튼들을 보실 수 있을 것 입니다.
메세지는 만약 명령어를 실행하는 채널이 (@everyone 기준) 열려있다면, 당신에게만 보이게 될 거예요.

#### (1) 메뉴
1개 ~ 5개 사이의 음성 채널을 선택하십시오. (경우에 따라 증가될 수 있습니다.)
만약 봇이 선택된 채널에 대한 권한이 제대로 부여되어 있지 않을 경우, 해당 현상을 해결할 수 있도록 돕는 패널이 전송될 것입니다.
작업이 완료되면, 성공 / 실패(이유 포함)한 채널을 보실 수 있게 됩니다.
* 실패한 채널이 있다면, 직접 채널을 편집하여 (적어도 봇의 역할에 "채널 보기" 권한이 부여되어야 함) 재시도를 해주세요. 그게 아니라면 다시 시도하지 마십시오.

#### (2) Buttons
* **Watch Channels** : 채널을 봇이 지켜보게 할 지 정하세요. 설정 메세지의 해당 항목에 'Yes'라고 되어 있으면 그 채널을 지켜보겠다고 동의하는 것이며, 'No'라면 동의하지 않습니다.
* **Config Channels** : 각 채널에 대한 스트림 제한 수를 입력하세요. 현재는 1개로 제한되어 있습니다.
* **Save** : 설정을 저장합니다.
* **Revert** : 기존 세팅으로 되돌아갑니다 (초기화가 아닙니다).
* **Cancel** : 설정 진행을 취소합니다.

### - Status
각 채널에 대한 스트림 정보가 담긴 메세지가 전송됩니다. 이 메세지는 자동으로 업데이트 되지 않습니다. 아래는 메세지에 나타나는 항목에 대한 설명입니다.

* Conflict Streamer - 1-(2) 의 방송하는 채널의 Go Live 제한을 초과하는 경우을 참조하십시오.
* Streamers - 채널의 스트리머들의 멘션과 함께 시작시간을 알 수 있습니다. 봇이 방송 시작 시간을 제대로 감시하지 못하면, 'Unknown'으로 표기됩니다.

### - Reset
* 설정을 초기화 합니다. 서버의 모든 음성 채널에 있는 갈등 해결 절차가 자동으로 중단됩니다.

## 3. 사용 예시
1. [GoLive Guardian 예시 1](https://youtu.be/4kNAF0HLvxM)
2. [GoLive Guardian 예시 2](https://youtu.be/EnDWfOiYDxM)
3. [GoLive Guardian 예시 3](https://youtu.be/HnF286xIcTM)